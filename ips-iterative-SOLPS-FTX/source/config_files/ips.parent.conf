# ======================================================================
# PLATFORM OVERRIDE SECTION
# ======================================================================

#  Hello world does not require these URLs
PORTAL_URL = http://localhost
RUNID_URL  = http://localhost

# ======================================================================
# ROOT LOCATION
# ======================================================================

#  Define the an environment variable for IPS base directory.
IPS_ROOT = $IPS_PATH

# ======================================================================
# SIMULATION INFO SECTION
# ======================================================================

SIM_NAME = parent
SIM_ROOT = $PWD

LOG_FILE = log.warning

SIMULATION_MODE = NORMAL
RUN_COMMENT = This is a template example case.

# ======================================================================
# MODEL SECTION
# ======================================================================

INPUT_DIR = $SIM_ROOT
SUBMIT_DIR=$SLURM_SUBMIT_DIR
COMPONENT_A_NAMELIST_INPUT = #$IPS_COMPONENT_A_COMP_PATH/inputEx.txt

#TIME-LOOP (COUPLING OF SOLPS-FTX)
INIT_TIME = 0.0
END_TIME = 1.0e-4
TIME_STEP = 5.0e-5
INIT_LOOP_N = 0
#possibly add a 'driver start mode' (init / restart) to include restart capabilities
TIME_FILE_NAME = 'timeParameters.txt'

#SOLPS
COMPONENT_SOLPS_CONF = $SIM_ROOT/solps_iter.config
SOLPS_OUTPUT_FORMAT = 'solpsOut', 'txt'
FTX_INPUT_FORMAT = 'ftxInput', 'txt'
SOLPS_OUTPUT_STD = 'solpsOut.txt' #probably this is not needed
FTX_INPUT_STD = 'ftxInput.txt'

#FT-X:
NUM_CHILDREN = 1
CHILD_COMPONENT_CONF = $SIM_ROOT/ips.ftx.config
XOLOTL_INPUT_FILES=paramXolotl_1D.txt paramXolotl_2D.txt networkFile.h5
INPUT_FTX = $XOLOTL_INPUT_FILES #$SOLPS_OUTPUT
#$IPS_CHILD_COMP_PATH/Test/ips.child.conf


# ======================================================================
# PLASMA STATE SECTION
# ======================================================================

PLASMA_STATE_WORK_DIR =

PLASMA_STATE_FILES = $INPUT_FTX SOLPS_OUTPUT


# ======================================================================
# PORTS SECTION
# ======================================================================

[PORTS]

    # The order here is the order in which they are run.

    NAMES = DRIVER # INIT

    # Required ports - DRIVER and INIT   

    [[DRIVER]]
        IMPLEMENTATION = parent_driver

    [[INIT]]
        IMPLEMENTATION = parent_init

# ======================================================================
# COMPONENT CONFIGURATION SECTION
# ======================================================================

[parent_driver]
    CLASS = parent
    SUB_CLASS = driver
    NAME = parent_driver
    NPROC = 1
    BIN_PATH = $SIM_ROOT #$IPS_PARENT_COMP_PATH
    SCRIPT =  $BIN_PATH/nested_solps_ftx_driver.py #TEST VALUE; local copy w/o SOLPS for driver development;
    	      					   #for full runs use: $IPS_WRAPPER_PATH/ips-nested-solps-multiple_ftx/parent_driver.py (does not exist yet)
    INPUT_FILES =
    PLASMA_STATE_FILES =
    OUTPUT_FILES =
    SUBMIT_DIR = $SIM_ROOT

[parent_init]
    CLASS = parent
    SUB_CLASS = init
    NAME = parent_init
    NPROC = 1
    BIN_PATH = $SIM_ROOT #$IPS_PARENT_COMP_PATH
    SCRIPT = $BIN_PATH/parent_init.py #TEST VALUE; local copy for tests;
    	     			      #for full runs use:  $IPS_WRAPPER_PATH/ips-nested-solps-multiple_ftx/parent_driver.py (does not exist yet)
    INPUT_FILES =
    PLASMA_STATE_FILES =
    OUTPUT_FILES =
